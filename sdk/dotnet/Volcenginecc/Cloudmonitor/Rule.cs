// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace Volcengine.Pulumi.Volcenginecc.Cloudmonitor
{
    /// <summary>
    /// 如果您需要监控某一云产品资源的数据状态，则可以创建云监控告警策略。当被监控的云产品资源数据达到告警的触发条件时，系统会通过您指定的方式推送告警通知，便于您及时发现存在异常数据的资源。
    /// 
    /// ## Import
    /// 
    /// ```sh
    /// $ pulumi import volcenginecc:cloudmonitor/rule:Rule example "rule_id"
    /// ```
    /// </summary>
    [VolcengineccResourceType("volcenginecc:cloudmonitor/rule:Rule")]
    public partial class Rule : global::Pulumi.CustomResource
    {
        /// <summary>
        /// 告警通知的方式。Email：邮件 Phone：电话 SMS：短信 Webhook：告警回调。
        /// </summary>
        [Output("alertMethods")]
        public Output<ImmutableArray<string>> AlertMethods { get; private set; } = null!;

        /// <summary>
        /// 告警状态。 alerting：告警中 normal：正常。
        /// </summary>
        [Output("alertState")]
        public Output<string> AlertState { get; private set; } = null!;

        /// <summary>
        /// 多指标判定条件。&amp;&amp;：多个指标同时成立才判定为触发告警,||：任意指标满足条件触发判定为告警。
        /// </summary>
        [Output("conditionOperator")]
        public Output<string> ConditionOperator { get; private set; } = null!;

        [Output("conditions")]
        public Output<ImmutableArray<Outputs.RuleCondition>> Conditions { get; private set; } = null!;

        /// <summary>
        /// 告警策略绑定的告警通知组 ID。
        /// </summary>
        [Output("contactGroupIds")]
        public Output<ImmutableArray<string>> ContactGroupIds { get; private set; } = null!;

        /// <summary>
        /// 告警策略创建时间，时间戳格式。
        /// </summary>
        [Output("createdAt")]
        public Output<string> CreatedAt { get; private set; } = null!;

        /// <summary>
        /// 告警策略描述信息。
        /// </summary>
        [Output("description")]
        public Output<string> Description { get; private set; } = null!;

        /// <summary>
        /// Dimension 配置。
        /// </summary>
        [Output("dimensionConditions")]
        public Output<Outputs.RuleDimensionConditions> DimensionConditions { get; private set; } = null!;

        /// <summary>
        /// 策略生效的截止时间，格式为HH:MM。
        /// </summary>
        [Output("effectEndAt")]
        public Output<string> EffectEndAt { get; private set; } = null!;

        /// <summary>
        /// 告警策略生效的开始时间，格式为HH:MM。
        /// </summary>
        [Output("effectStartAt")]
        public Output<string> EffectStartAt { get; private set; } = null!;

        /// <summary>
        /// 告警策略的开启状态。,enable：开启,disable：禁用
        /// </summary>
        [Output("enableState")]
        public Output<string> EnableState { get; private set; } = null!;

        /// <summary>
        /// 触发告警需要持续的周期。单位为分钟。
        /// </summary>
        [Output("evaluationCount")]
        public Output<int> EvaluationCount { get; private set; } = null!;

        /// <summary>
        /// 告警级别。critical：严重,warning：警告,notice：通知
        /// </summary>
        [Output("level")]
        public Output<string> Level { get; private set; } = null!;

        [Output("levelConditions")]
        public Output<ImmutableArray<Outputs.RuleLevelCondition>> LevelConditions { get; private set; } = null!;

        /// <summary>
        /// 告警策略是否用多指标。true：多指标,false：单指标（默认）。
        /// </summary>
        [Output("multipleConditions")]
        public Output<bool> MultipleConditions { get; private set; } = null!;

        /// <summary>
        /// 监控指标所属的云产品。详情请参见 云产品监控指标 下各产品的 Namespace。
        /// </summary>
        [Output("namespace")]
        public Output<string> Namespace { get; private set; } = null!;

        /// <summary>
        /// 无数据告警。
        /// </summary>
        [Output("noData")]
        public Output<Outputs.RuleNoData> NoData { get; private set; } = null!;

        /// <summary>
        /// 通知策略 ID。
        /// </summary>
        [Output("notificationId")]
        public Output<string> NotificationId { get; private set; } = null!;

        [Output("notifyTemplates")]
        public Output<ImmutableArray<Outputs.RuleNotifyTemplate>> NotifyTemplates { get; private set; } = null!;

        /// <summary>
        /// 告警策略检测的资源 ID。
        /// </summary>
        [Output("originalDimensions")]
        public Output<Outputs.RuleOriginalDimensions> OriginalDimensions { get; private set; } = null!;

        /// <summary>
        /// 告警策略所属项目。
        /// </summary>
        [Output("projectName")]
        public Output<string> ProjectName { get; private set; } = null!;

        /// <summary>
        /// 告警恢复通知。
        /// </summary>
        [Output("recoveryNotify")]
        public Output<Outputs.RuleRecoveryNotify> RecoveryNotify { get; private set; } = null!;

        /// <summary>
        /// 云产品所属可用区 ID。
        /// </summary>
        [Output("regions")]
        public Output<ImmutableArray<string>> Regions { get; private set; } = null!;

        /// <summary>
        /// 告警策略检测的资源类型。
        /// </summary>
        [Output("resourceType")]
        public Output<string> ResourceType { get; private set; } = null!;

        /// <summary>
        /// 告警策略 ID。
        /// </summary>
        [Output("ruleId")]
        public Output<string> RuleId { get; private set; } = null!;

        /// <summary>
        /// 告警策略名称。
        /// </summary>
        [Output("ruleName")]
        public Output<string> RuleName { get; private set; } = null!;

        /// <summary>
        /// 告警策略的类型。static：手动选择。dynamic：通过资源名称、项目和标签选择。
        /// </summary>
        [Output("ruleType")]
        public Output<string> RuleType { get; private set; } = null!;

        /// <summary>
        /// 告警发送周期。单位为分钟。支持配置为 5、10、15、30、60、180、360、720、1440。
        /// </summary>
        [Output("silenceTime")]
        public Output<int> SilenceTime { get; private set; } = null!;

        /// <summary>
        /// 此策略引用的指标所属的维度。详情请参见 云产品监控指标 下各产品的 SubNamespace。
        /// </summary>
        [Output("subNamespace")]
        public Output<string> SubNamespace { get; private set; } = null!;

        [Output("tags")]
        public Output<ImmutableArray<Outputs.RuleTag>> Tags { get; private set; } = null!;

        /// <summary>
        /// 告警策略更新时间，时间戳格式。
        /// </summary>
        [Output("updatedAt")]
        public Output<string> UpdatedAt { get; private set; } = null!;

        /// <summary>
        /// 告警策略绑定的告警回调 URL 地址。
        /// </summary>
        [Output("webhook")]
        public Output<string> Webhook { get; private set; } = null!;

        /// <summary>
        /// 告警发生时告警回调 ID 列表。
        /// </summary>
        [Output("webhookIds")]
        public Output<ImmutableArray<string>> WebhookIds { get; private set; } = null!;


        /// <summary>
        /// Create a Rule resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Rule(string name, RuleArgs args, CustomResourceOptions? options = null)
            : base("volcenginecc:cloudmonitor/rule:Rule", name, args ?? new RuleArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Rule(string name, Input<string> id, RuleState? state = null, CustomResourceOptions? options = null)
            : base("volcenginecc:cloudmonitor/rule:Rule", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                PluginDownloadURL = "github://api.github.com/volcengine",
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Rule resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Rule Get(string name, Input<string> id, RuleState? state = null, CustomResourceOptions? options = null)
        {
            return new Rule(name, id, state, options);
        }
    }

    public sealed class RuleArgs : global::Pulumi.ResourceArgs
    {
        [Input("alertMethods")]
        private InputList<string>? _alertMethods;

        /// <summary>
        /// 告警通知的方式。Email：邮件 Phone：电话 SMS：短信 Webhook：告警回调。
        /// </summary>
        public InputList<string> AlertMethods
        {
            get => _alertMethods ?? (_alertMethods = new InputList<string>());
            set => _alertMethods = value;
        }

        /// <summary>
        /// 多指标判定条件。&amp;&amp;：多个指标同时成立才判定为触发告警,||：任意指标满足条件触发判定为告警。
        /// </summary>
        [Input("conditionOperator")]
        public Input<string>? ConditionOperator { get; set; }

        [Input("conditions")]
        private InputList<Inputs.RuleConditionArgs>? _conditions;
        public InputList<Inputs.RuleConditionArgs> Conditions
        {
            get => _conditions ?? (_conditions = new InputList<Inputs.RuleConditionArgs>());
            set => _conditions = value;
        }

        [Input("contactGroupIds")]
        private InputList<string>? _contactGroupIds;

        /// <summary>
        /// 告警策略绑定的告警通知组 ID。
        /// </summary>
        public InputList<string> ContactGroupIds
        {
            get => _contactGroupIds ?? (_contactGroupIds = new InputList<string>());
            set => _contactGroupIds = value;
        }

        /// <summary>
        /// 告警策略描述信息。
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Dimension 配置。
        /// </summary>
        [Input("dimensionConditions")]
        public Input<Inputs.RuleDimensionConditionsArgs>? DimensionConditions { get; set; }

        /// <summary>
        /// 策略生效的截止时间，格式为HH:MM。
        /// </summary>
        [Input("effectEndAt", required: true)]
        public Input<string> EffectEndAt { get; set; } = null!;

        /// <summary>
        /// 告警策略生效的开始时间，格式为HH:MM。
        /// </summary>
        [Input("effectStartAt", required: true)]
        public Input<string> EffectStartAt { get; set; } = null!;

        /// <summary>
        /// 告警策略的开启状态。,enable：开启,disable：禁用
        /// </summary>
        [Input("enableState", required: true)]
        public Input<string> EnableState { get; set; } = null!;

        /// <summary>
        /// 触发告警需要持续的周期。单位为分钟。
        /// </summary>
        [Input("evaluationCount", required: true)]
        public Input<int> EvaluationCount { get; set; } = null!;

        /// <summary>
        /// 告警级别。critical：严重,warning：警告,notice：通知
        /// </summary>
        [Input("level", required: true)]
        public Input<string> Level { get; set; } = null!;

        [Input("levelConditions")]
        private InputList<Inputs.RuleLevelConditionArgs>? _levelConditions;
        public InputList<Inputs.RuleLevelConditionArgs> LevelConditions
        {
            get => _levelConditions ?? (_levelConditions = new InputList<Inputs.RuleLevelConditionArgs>());
            set => _levelConditions = value;
        }

        /// <summary>
        /// 告警策略是否用多指标。true：多指标,false：单指标（默认）。
        /// </summary>
        [Input("multipleConditions")]
        public Input<bool>? MultipleConditions { get; set; }

        /// <summary>
        /// 监控指标所属的云产品。详情请参见 云产品监控指标 下各产品的 Namespace。
        /// </summary>
        [Input("namespace", required: true)]
        public Input<string> Namespace { get; set; } = null!;

        /// <summary>
        /// 无数据告警。
        /// </summary>
        [Input("noData")]
        public Input<Inputs.RuleNoDataArgs>? NoData { get; set; }

        /// <summary>
        /// 通知策略 ID。
        /// </summary>
        [Input("notificationId")]
        public Input<string>? NotificationId { get; set; }

        [Input("notifyTemplates")]
        private InputList<Inputs.RuleNotifyTemplateArgs>? _notifyTemplates;
        public InputList<Inputs.RuleNotifyTemplateArgs> NotifyTemplates
        {
            get => _notifyTemplates ?? (_notifyTemplates = new InputList<Inputs.RuleNotifyTemplateArgs>());
            set => _notifyTemplates = value;
        }

        /// <summary>
        /// 告警策略检测的资源 ID。
        /// </summary>
        [Input("originalDimensions")]
        public Input<Inputs.RuleOriginalDimensionsArgs>? OriginalDimensions { get; set; }

        /// <summary>
        /// 告警策略所属项目。
        /// </summary>
        [Input("projectName")]
        public Input<string>? ProjectName { get; set; }

        /// <summary>
        /// 告警恢复通知。
        /// </summary>
        [Input("recoveryNotify")]
        public Input<Inputs.RuleRecoveryNotifyArgs>? RecoveryNotify { get; set; }

        [Input("regions")]
        private InputList<string>? _regions;

        /// <summary>
        /// 云产品所属可用区 ID。
        /// </summary>
        public InputList<string> Regions
        {
            get => _regions ?? (_regions = new InputList<string>());
            set => _regions = value;
        }

        /// <summary>
        /// 告警策略名称。
        /// </summary>
        [Input("ruleName", required: true)]
        public Input<string> RuleName { get; set; } = null!;

        /// <summary>
        /// 告警策略的类型。static：手动选择。dynamic：通过资源名称、项目和标签选择。
        /// </summary>
        [Input("ruleType", required: true)]
        public Input<string> RuleType { get; set; } = null!;

        /// <summary>
        /// 告警发送周期。单位为分钟。支持配置为 5、10、15、30、60、180、360、720、1440。
        /// </summary>
        [Input("silenceTime", required: true)]
        public Input<int> SilenceTime { get; set; } = null!;

        /// <summary>
        /// 此策略引用的指标所属的维度。详情请参见 云产品监控指标 下各产品的 SubNamespace。
        /// </summary>
        [Input("subNamespace", required: true)]
        public Input<string> SubNamespace { get; set; } = null!;

        [Input("tags")]
        private InputList<Inputs.RuleTagArgs>? _tags;
        public InputList<Inputs.RuleTagArgs> Tags
        {
            get => _tags ?? (_tags = new InputList<Inputs.RuleTagArgs>());
            set => _tags = value;
        }

        /// <summary>
        /// 告警策略绑定的告警回调 URL 地址。
        /// </summary>
        [Input("webhook")]
        public Input<string>? Webhook { get; set; }

        [Input("webhookIds")]
        private InputList<string>? _webhookIds;

        /// <summary>
        /// 告警发生时告警回调 ID 列表。
        /// </summary>
        public InputList<string> WebhookIds
        {
            get => _webhookIds ?? (_webhookIds = new InputList<string>());
            set => _webhookIds = value;
        }

        public RuleArgs()
        {
        }
        public static new RuleArgs Empty => new RuleArgs();
    }

    public sealed class RuleState : global::Pulumi.ResourceArgs
    {
        [Input("alertMethods")]
        private InputList<string>? _alertMethods;

        /// <summary>
        /// 告警通知的方式。Email：邮件 Phone：电话 SMS：短信 Webhook：告警回调。
        /// </summary>
        public InputList<string> AlertMethods
        {
            get => _alertMethods ?? (_alertMethods = new InputList<string>());
            set => _alertMethods = value;
        }

        /// <summary>
        /// 告警状态。 alerting：告警中 normal：正常。
        /// </summary>
        [Input("alertState")]
        public Input<string>? AlertState { get; set; }

        /// <summary>
        /// 多指标判定条件。&amp;&amp;：多个指标同时成立才判定为触发告警,||：任意指标满足条件触发判定为告警。
        /// </summary>
        [Input("conditionOperator")]
        public Input<string>? ConditionOperator { get; set; }

        [Input("conditions")]
        private InputList<Inputs.RuleConditionGetArgs>? _conditions;
        public InputList<Inputs.RuleConditionGetArgs> Conditions
        {
            get => _conditions ?? (_conditions = new InputList<Inputs.RuleConditionGetArgs>());
            set => _conditions = value;
        }

        [Input("contactGroupIds")]
        private InputList<string>? _contactGroupIds;

        /// <summary>
        /// 告警策略绑定的告警通知组 ID。
        /// </summary>
        public InputList<string> ContactGroupIds
        {
            get => _contactGroupIds ?? (_contactGroupIds = new InputList<string>());
            set => _contactGroupIds = value;
        }

        /// <summary>
        /// 告警策略创建时间，时间戳格式。
        /// </summary>
        [Input("createdAt")]
        public Input<string>? CreatedAt { get; set; }

        /// <summary>
        /// 告警策略描述信息。
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Dimension 配置。
        /// </summary>
        [Input("dimensionConditions")]
        public Input<Inputs.RuleDimensionConditionsGetArgs>? DimensionConditions { get; set; }

        /// <summary>
        /// 策略生效的截止时间，格式为HH:MM。
        /// </summary>
        [Input("effectEndAt")]
        public Input<string>? EffectEndAt { get; set; }

        /// <summary>
        /// 告警策略生效的开始时间，格式为HH:MM。
        /// </summary>
        [Input("effectStartAt")]
        public Input<string>? EffectStartAt { get; set; }

        /// <summary>
        /// 告警策略的开启状态。,enable：开启,disable：禁用
        /// </summary>
        [Input("enableState")]
        public Input<string>? EnableState { get; set; }

        /// <summary>
        /// 触发告警需要持续的周期。单位为分钟。
        /// </summary>
        [Input("evaluationCount")]
        public Input<int>? EvaluationCount { get; set; }

        /// <summary>
        /// 告警级别。critical：严重,warning：警告,notice：通知
        /// </summary>
        [Input("level")]
        public Input<string>? Level { get; set; }

        [Input("levelConditions")]
        private InputList<Inputs.RuleLevelConditionGetArgs>? _levelConditions;
        public InputList<Inputs.RuleLevelConditionGetArgs> LevelConditions
        {
            get => _levelConditions ?? (_levelConditions = new InputList<Inputs.RuleLevelConditionGetArgs>());
            set => _levelConditions = value;
        }

        /// <summary>
        /// 告警策略是否用多指标。true：多指标,false：单指标（默认）。
        /// </summary>
        [Input("multipleConditions")]
        public Input<bool>? MultipleConditions { get; set; }

        /// <summary>
        /// 监控指标所属的云产品。详情请参见 云产品监控指标 下各产品的 Namespace。
        /// </summary>
        [Input("namespace")]
        public Input<string>? Namespace { get; set; }

        /// <summary>
        /// 无数据告警。
        /// </summary>
        [Input("noData")]
        public Input<Inputs.RuleNoDataGetArgs>? NoData { get; set; }

        /// <summary>
        /// 通知策略 ID。
        /// </summary>
        [Input("notificationId")]
        public Input<string>? NotificationId { get; set; }

        [Input("notifyTemplates")]
        private InputList<Inputs.RuleNotifyTemplateGetArgs>? _notifyTemplates;
        public InputList<Inputs.RuleNotifyTemplateGetArgs> NotifyTemplates
        {
            get => _notifyTemplates ?? (_notifyTemplates = new InputList<Inputs.RuleNotifyTemplateGetArgs>());
            set => _notifyTemplates = value;
        }

        /// <summary>
        /// 告警策略检测的资源 ID。
        /// </summary>
        [Input("originalDimensions")]
        public Input<Inputs.RuleOriginalDimensionsGetArgs>? OriginalDimensions { get; set; }

        /// <summary>
        /// 告警策略所属项目。
        /// </summary>
        [Input("projectName")]
        public Input<string>? ProjectName { get; set; }

        /// <summary>
        /// 告警恢复通知。
        /// </summary>
        [Input("recoveryNotify")]
        public Input<Inputs.RuleRecoveryNotifyGetArgs>? RecoveryNotify { get; set; }

        [Input("regions")]
        private InputList<string>? _regions;

        /// <summary>
        /// 云产品所属可用区 ID。
        /// </summary>
        public InputList<string> Regions
        {
            get => _regions ?? (_regions = new InputList<string>());
            set => _regions = value;
        }

        /// <summary>
        /// 告警策略检测的资源类型。
        /// </summary>
        [Input("resourceType")]
        public Input<string>? ResourceType { get; set; }

        /// <summary>
        /// 告警策略 ID。
        /// </summary>
        [Input("ruleId")]
        public Input<string>? RuleId { get; set; }

        /// <summary>
        /// 告警策略名称。
        /// </summary>
        [Input("ruleName")]
        public Input<string>? RuleName { get; set; }

        /// <summary>
        /// 告警策略的类型。static：手动选择。dynamic：通过资源名称、项目和标签选择。
        /// </summary>
        [Input("ruleType")]
        public Input<string>? RuleType { get; set; }

        /// <summary>
        /// 告警发送周期。单位为分钟。支持配置为 5、10、15、30、60、180、360、720、1440。
        /// </summary>
        [Input("silenceTime")]
        public Input<int>? SilenceTime { get; set; }

        /// <summary>
        /// 此策略引用的指标所属的维度。详情请参见 云产品监控指标 下各产品的 SubNamespace。
        /// </summary>
        [Input("subNamespace")]
        public Input<string>? SubNamespace { get; set; }

        [Input("tags")]
        private InputList<Inputs.RuleTagGetArgs>? _tags;
        public InputList<Inputs.RuleTagGetArgs> Tags
        {
            get => _tags ?? (_tags = new InputList<Inputs.RuleTagGetArgs>());
            set => _tags = value;
        }

        /// <summary>
        /// 告警策略更新时间，时间戳格式。
        /// </summary>
        [Input("updatedAt")]
        public Input<string>? UpdatedAt { get; set; }

        /// <summary>
        /// 告警策略绑定的告警回调 URL 地址。
        /// </summary>
        [Input("webhook")]
        public Input<string>? Webhook { get; set; }

        [Input("webhookIds")]
        private InputList<string>? _webhookIds;

        /// <summary>
        /// 告警发生时告警回调 ID 列表。
        /// </summary>
        public InputList<string> WebhookIds
        {
            get => _webhookIds ?? (_webhookIds = new InputList<string>());
            set => _webhookIds = value;
        }

        public RuleState()
        {
        }
        public static new RuleState Empty => new RuleState();
    }
}
