// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package vefaas

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
	"github.com/volcengine/pulumi-volcenginecc/sdk/go/volcenginecc/internal"
)

// 沙箱实例是云沙箱中实际执行沙箱镜像的安全且隔离的容器运行环境。
//
// ## Import
//
// ```sh
// $ pulumi import volcenginecc:vefaas/sandbox:Sandbox example "function_id|sandbox_id"
// ```
type Sandbox struct {
	pulumi.CustomResourceState

	// 沙箱实例所在可用区 ID。
	AvailabilityZone pulumi.StringOutput `pulumi:"availabilityZone"`
	// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
	CpuMilli pulumi.IntOutput `pulumi:"cpuMilli"`
	// 沙箱实例创建时间。
	CreatedTime pulumi.StringOutput   `pulumi:"createdTime"`
	Envs        SandboxEnvArrayOutput `pulumi:"envs"`
	// 沙箱实例启动失败错误码。参数值说明：internal*load*request*error：系统内部错误，function*initialize*failed：业务进程初始化错误，function*health*check*failed：健康检查错误，route_terminating：路由删除中，正常启动沙箱实例时，该字段为空。
	ErrorCode pulumi.StringOutput `pulumi:"errorCode"`
	// 沙箱实例启动失败的错误码详情。正常启动沙箱实例时，该字段为空。
	ErrorMessage pulumi.StringOutput `pulumi:"errorMessage"`
	// 沙箱实例存活时长。
	ExpireAt pulumi.StringOutput `pulumi:"expireAt"`
	// 沙箱实例所属的沙箱应用 ID。
	FunctionId pulumi.StringOutput `pulumi:"functionId"`
	// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
	InstanceImageInfo SandboxInstanceImageInfoOutput `pulumi:"instanceImageInfo"`
	// 沙箱实例级别对象存储（TOS）存储挂载配置。
	InstanceTosMountConfig SandboxInstanceTosMountConfigOutput `pulumi:"instanceTosMountConfig"`
	// 沙箱实例类型 。参数值说明：elastic：弹性实例，frozen：冻结实例，activated：激活实例，reserved：预留实例。
	InstanceType pulumi.StringOutput `pulumi:"instanceType"`
	// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
	MaxConcurrency pulumi.IntOutput `pulumi:"maxConcurrency"`
	// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
	MemoryMb  pulumi.IntOutput           `pulumi:"memoryMb"`
	Metadatas SandboxMetadataArrayOutput `pulumi:"metadatas"`
	// 沙箱实例是否处于 Pending 状态。参数值说明：true：是，false：否。
	Pending pulumi.BoolOutput `pulumi:"pending"`
	// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
	RequestTimeout pulumi.IntOutput `pulumi:"requestTimeout"`
	// 函数实例版本编号。
	RevisionNumber pulumi.IntOutput `pulumi:"revisionNumber"`
	// 沙箱实例 ID。
	SandboxId pulumi.StringOutput `pulumi:"sandboxId"`
	// 沙箱实例状态。 参数值说明：Starting：开始启动，Ready：启动完成，Failed：启动失败，Terminating：终止中。
	Status pulumi.StringOutput `pulumi:"status"`
	// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
	Timeout pulumi.IntOutput `pulumi:"timeout"`
}

// NewSandbox registers a new resource with the given unique name, arguments, and options.
func NewSandbox(ctx *pulumi.Context,
	name string, args *SandboxArgs, opts ...pulumi.ResourceOption) (*Sandbox, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.FunctionId == nil {
		return nil, errors.New("invalid value for required argument 'FunctionId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Sandbox
	err := ctx.RegisterResource("volcenginecc:vefaas/sandbox:Sandbox", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetSandbox gets an existing Sandbox resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetSandbox(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *SandboxState, opts ...pulumi.ResourceOption) (*Sandbox, error) {
	var resource Sandbox
	err := ctx.ReadResource("volcenginecc:vefaas/sandbox:Sandbox", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Sandbox resources.
type sandboxState struct {
	// 沙箱实例所在可用区 ID。
	AvailabilityZone *string `pulumi:"availabilityZone"`
	// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
	CpuMilli *int `pulumi:"cpuMilli"`
	// 沙箱实例创建时间。
	CreatedTime *string      `pulumi:"createdTime"`
	Envs        []SandboxEnv `pulumi:"envs"`
	// 沙箱实例启动失败错误码。参数值说明：internal*load*request*error：系统内部错误，function*initialize*failed：业务进程初始化错误，function*health*check*failed：健康检查错误，route_terminating：路由删除中，正常启动沙箱实例时，该字段为空。
	ErrorCode *string `pulumi:"errorCode"`
	// 沙箱实例启动失败的错误码详情。正常启动沙箱实例时，该字段为空。
	ErrorMessage *string `pulumi:"errorMessage"`
	// 沙箱实例存活时长。
	ExpireAt *string `pulumi:"expireAt"`
	// 沙箱实例所属的沙箱应用 ID。
	FunctionId *string `pulumi:"functionId"`
	// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
	InstanceImageInfo *SandboxInstanceImageInfo `pulumi:"instanceImageInfo"`
	// 沙箱实例级别对象存储（TOS）存储挂载配置。
	InstanceTosMountConfig *SandboxInstanceTosMountConfig `pulumi:"instanceTosMountConfig"`
	// 沙箱实例类型 。参数值说明：elastic：弹性实例，frozen：冻结实例，activated：激活实例，reserved：预留实例。
	InstanceType *string `pulumi:"instanceType"`
	// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
	MaxConcurrency *int `pulumi:"maxConcurrency"`
	// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
	MemoryMb  *int              `pulumi:"memoryMb"`
	Metadatas []SandboxMetadata `pulumi:"metadatas"`
	// 沙箱实例是否处于 Pending 状态。参数值说明：true：是，false：否。
	Pending *bool `pulumi:"pending"`
	// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
	RequestTimeout *int `pulumi:"requestTimeout"`
	// 函数实例版本编号。
	RevisionNumber *int `pulumi:"revisionNumber"`
	// 沙箱实例 ID。
	SandboxId *string `pulumi:"sandboxId"`
	// 沙箱实例状态。 参数值说明：Starting：开始启动，Ready：启动完成，Failed：启动失败，Terminating：终止中。
	Status *string `pulumi:"status"`
	// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
	Timeout *int `pulumi:"timeout"`
}

type SandboxState struct {
	// 沙箱实例所在可用区 ID。
	AvailabilityZone pulumi.StringPtrInput
	// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
	CpuMilli pulumi.IntPtrInput
	// 沙箱实例创建时间。
	CreatedTime pulumi.StringPtrInput
	Envs        SandboxEnvArrayInput
	// 沙箱实例启动失败错误码。参数值说明：internal*load*request*error：系统内部错误，function*initialize*failed：业务进程初始化错误，function*health*check*failed：健康检查错误，route_terminating：路由删除中，正常启动沙箱实例时，该字段为空。
	ErrorCode pulumi.StringPtrInput
	// 沙箱实例启动失败的错误码详情。正常启动沙箱实例时，该字段为空。
	ErrorMessage pulumi.StringPtrInput
	// 沙箱实例存活时长。
	ExpireAt pulumi.StringPtrInput
	// 沙箱实例所属的沙箱应用 ID。
	FunctionId pulumi.StringPtrInput
	// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
	InstanceImageInfo SandboxInstanceImageInfoPtrInput
	// 沙箱实例级别对象存储（TOS）存储挂载配置。
	InstanceTosMountConfig SandboxInstanceTosMountConfigPtrInput
	// 沙箱实例类型 。参数值说明：elastic：弹性实例，frozen：冻结实例，activated：激活实例，reserved：预留实例。
	InstanceType pulumi.StringPtrInput
	// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
	MaxConcurrency pulumi.IntPtrInput
	// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
	MemoryMb  pulumi.IntPtrInput
	Metadatas SandboxMetadataArrayInput
	// 沙箱实例是否处于 Pending 状态。参数值说明：true：是，false：否。
	Pending pulumi.BoolPtrInput
	// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
	RequestTimeout pulumi.IntPtrInput
	// 函数实例版本编号。
	RevisionNumber pulumi.IntPtrInput
	// 沙箱实例 ID。
	SandboxId pulumi.StringPtrInput
	// 沙箱实例状态。 参数值说明：Starting：开始启动，Ready：启动完成，Failed：启动失败，Terminating：终止中。
	Status pulumi.StringPtrInput
	// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
	Timeout pulumi.IntPtrInput
}

func (SandboxState) ElementType() reflect.Type {
	return reflect.TypeOf((*sandboxState)(nil)).Elem()
}

type sandboxArgs struct {
	// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
	CpuMilli *int         `pulumi:"cpuMilli"`
	Envs     []SandboxEnv `pulumi:"envs"`
	// 沙箱实例所属的沙箱应用 ID。
	FunctionId string `pulumi:"functionId"`
	// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
	InstanceImageInfo *SandboxInstanceImageInfo `pulumi:"instanceImageInfo"`
	// 沙箱实例级别对象存储（TOS）存储挂载配置。
	InstanceTosMountConfig *SandboxInstanceTosMountConfig `pulumi:"instanceTosMountConfig"`
	// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
	MaxConcurrency *int `pulumi:"maxConcurrency"`
	// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
	MemoryMb  *int              `pulumi:"memoryMb"`
	Metadatas []SandboxMetadata `pulumi:"metadatas"`
	// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
	RequestTimeout *int `pulumi:"requestTimeout"`
	// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
	Timeout *int `pulumi:"timeout"`
}

// The set of arguments for constructing a Sandbox resource.
type SandboxArgs struct {
	// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
	CpuMilli pulumi.IntPtrInput
	Envs     SandboxEnvArrayInput
	// 沙箱实例所属的沙箱应用 ID。
	FunctionId pulumi.StringInput
	// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
	InstanceImageInfo SandboxInstanceImageInfoPtrInput
	// 沙箱实例级别对象存储（TOS）存储挂载配置。
	InstanceTosMountConfig SandboxInstanceTosMountConfigPtrInput
	// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
	MaxConcurrency pulumi.IntPtrInput
	// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
	MemoryMb  pulumi.IntPtrInput
	Metadatas SandboxMetadataArrayInput
	// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
	RequestTimeout pulumi.IntPtrInput
	// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
	Timeout pulumi.IntPtrInput
}

func (SandboxArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*sandboxArgs)(nil)).Elem()
}

type SandboxInput interface {
	pulumi.Input

	ToSandboxOutput() SandboxOutput
	ToSandboxOutputWithContext(ctx context.Context) SandboxOutput
}

func (*Sandbox) ElementType() reflect.Type {
	return reflect.TypeOf((**Sandbox)(nil)).Elem()
}

func (i *Sandbox) ToSandboxOutput() SandboxOutput {
	return i.ToSandboxOutputWithContext(context.Background())
}

func (i *Sandbox) ToSandboxOutputWithContext(ctx context.Context) SandboxOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SandboxOutput)
}

// SandboxArrayInput is an input type that accepts SandboxArray and SandboxArrayOutput values.
// You can construct a concrete instance of `SandboxArrayInput` via:
//
//	SandboxArray{ SandboxArgs{...} }
type SandboxArrayInput interface {
	pulumi.Input

	ToSandboxArrayOutput() SandboxArrayOutput
	ToSandboxArrayOutputWithContext(context.Context) SandboxArrayOutput
}

type SandboxArray []SandboxInput

func (SandboxArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Sandbox)(nil)).Elem()
}

func (i SandboxArray) ToSandboxArrayOutput() SandboxArrayOutput {
	return i.ToSandboxArrayOutputWithContext(context.Background())
}

func (i SandboxArray) ToSandboxArrayOutputWithContext(ctx context.Context) SandboxArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SandboxArrayOutput)
}

// SandboxMapInput is an input type that accepts SandboxMap and SandboxMapOutput values.
// You can construct a concrete instance of `SandboxMapInput` via:
//
//	SandboxMap{ "key": SandboxArgs{...} }
type SandboxMapInput interface {
	pulumi.Input

	ToSandboxMapOutput() SandboxMapOutput
	ToSandboxMapOutputWithContext(context.Context) SandboxMapOutput
}

type SandboxMap map[string]SandboxInput

func (SandboxMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Sandbox)(nil)).Elem()
}

func (i SandboxMap) ToSandboxMapOutput() SandboxMapOutput {
	return i.ToSandboxMapOutputWithContext(context.Background())
}

func (i SandboxMap) ToSandboxMapOutputWithContext(ctx context.Context) SandboxMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SandboxMapOutput)
}

type SandboxOutput struct{ *pulumi.OutputState }

func (SandboxOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Sandbox)(nil)).Elem()
}

func (o SandboxOutput) ToSandboxOutput() SandboxOutput {
	return o
}

func (o SandboxOutput) ToSandboxOutputWithContext(ctx context.Context) SandboxOutput {
	return o
}

// 沙箱实例所在可用区 ID。
func (o SandboxOutput) AvailabilityZone() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.AvailabilityZone }).(pulumi.StringOutput)
}

// 沙箱实例 CPU 规格：单位：milli cpu取值范围：250~16000,默认值：1000。
func (o SandboxOutput) CpuMilli() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.CpuMilli }).(pulumi.IntOutput)
}

// 沙箱实例创建时间。
func (o SandboxOutput) CreatedTime() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.CreatedTime }).(pulumi.StringOutput)
}

func (o SandboxOutput) Envs() SandboxEnvArrayOutput {
	return o.ApplyT(func(v *Sandbox) SandboxEnvArrayOutput { return v.Envs }).(SandboxEnvArrayOutput)
}

// 沙箱实例启动失败错误码。参数值说明：internal*load*request*error：系统内部错误，function*initialize*failed：业务进程初始化错误，function*health*check*failed：健康检查错误，route_terminating：路由删除中，正常启动沙箱实例时，该字段为空。
func (o SandboxOutput) ErrorCode() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.ErrorCode }).(pulumi.StringOutput)
}

// 沙箱实例启动失败的错误码详情。正常启动沙箱实例时，该字段为空。
func (o SandboxOutput) ErrorMessage() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.ErrorMessage }).(pulumi.StringOutput)
}

// 沙箱实例存活时长。
func (o SandboxOutput) ExpireAt() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.ExpireAt }).(pulumi.StringOutput)
}

// 沙箱实例所属的沙箱应用 ID。
func (o SandboxOutput) FunctionId() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.FunctionId }).(pulumi.StringOutput)
}

// 沙箱实例镜像信息，包括镜像地址、启动命令、监听端口。
func (o SandboxOutput) InstanceImageInfo() SandboxInstanceImageInfoOutput {
	return o.ApplyT(func(v *Sandbox) SandboxInstanceImageInfoOutput { return v.InstanceImageInfo }).(SandboxInstanceImageInfoOutput)
}

// 沙箱实例级别对象存储（TOS）存储挂载配置。
func (o SandboxOutput) InstanceTosMountConfig() SandboxInstanceTosMountConfigOutput {
	return o.ApplyT(func(v *Sandbox) SandboxInstanceTosMountConfigOutput { return v.InstanceTosMountConfig }).(SandboxInstanceTosMountConfigOutput)
}

// 沙箱实例类型 。参数值说明：elastic：弹性实例，frozen：冻结实例，activated：激活实例，reserved：预留实例。
func (o SandboxOutput) InstanceType() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.InstanceType }).(pulumi.StringOutput)
}

// 单实例请求最大并发数：取值范围：10~1000,默认值：100。
func (o SandboxOutput) MaxConcurrency() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.MaxConcurrency }).(pulumi.IntOutput)
}

// 沙箱实例内存规格：单位：MiB，取值范围：512~131072，默认值：2048
func (o SandboxOutput) MemoryMb() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.MemoryMb }).(pulumi.IntOutput)
}

func (o SandboxOutput) Metadatas() SandboxMetadataArrayOutput {
	return o.ApplyT(func(v *Sandbox) SandboxMetadataArrayOutput { return v.Metadatas }).(SandboxMetadataArrayOutput)
}

// 沙箱实例是否处于 Pending 状态。参数值说明：true：是，false：否。
func (o SandboxOutput) Pending() pulumi.BoolOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.BoolOutput { return v.Pending }).(pulumi.BoolOutput)
}

// 请求超时时间：单位：秒，取值范围：1~900，正整数。默认值：30。
func (o SandboxOutput) RequestTimeout() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.RequestTimeout }).(pulumi.IntOutput)
}

// 函数实例版本编号。
func (o SandboxOutput) RevisionNumber() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.RevisionNumber }).(pulumi.IntOutput)
}

// 沙箱实例 ID。
func (o SandboxOutput) SandboxId() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.SandboxId }).(pulumi.StringOutput)
}

// 沙箱实例状态。 参数值说明：Starting：开始启动，Ready：启动完成，Failed：启动失败，Terminating：终止中。
func (o SandboxOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// 沙箱实例存活时长：单位：分钟，取值范围：3～1440，默认值：60。
func (o SandboxOutput) Timeout() pulumi.IntOutput {
	return o.ApplyT(func(v *Sandbox) pulumi.IntOutput { return v.Timeout }).(pulumi.IntOutput)
}

type SandboxArrayOutput struct{ *pulumi.OutputState }

func (SandboxArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Sandbox)(nil)).Elem()
}

func (o SandboxArrayOutput) ToSandboxArrayOutput() SandboxArrayOutput {
	return o
}

func (o SandboxArrayOutput) ToSandboxArrayOutputWithContext(ctx context.Context) SandboxArrayOutput {
	return o
}

func (o SandboxArrayOutput) Index(i pulumi.IntInput) SandboxOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Sandbox {
		return vs[0].([]*Sandbox)[vs[1].(int)]
	}).(SandboxOutput)
}

type SandboxMapOutput struct{ *pulumi.OutputState }

func (SandboxMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Sandbox)(nil)).Elem()
}

func (o SandboxMapOutput) ToSandboxMapOutput() SandboxMapOutput {
	return o
}

func (o SandboxMapOutput) ToSandboxMapOutputWithContext(ctx context.Context) SandboxMapOutput {
	return o
}

func (o SandboxMapOutput) MapIndex(k pulumi.StringInput) SandboxOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Sandbox {
		return vs[0].(map[string]*Sandbox)[vs[1].(string)]
	}).(SandboxOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*SandboxInput)(nil)).Elem(), &Sandbox{})
	pulumi.RegisterInputType(reflect.TypeOf((*SandboxArrayInput)(nil)).Elem(), SandboxArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*SandboxMapInput)(nil)).Elem(), SandboxMap{})
	pulumi.RegisterOutputType(SandboxOutput{})
	pulumi.RegisterOutputType(SandboxArrayOutput{})
	pulumi.RegisterOutputType(SandboxMapOutput{})
}
